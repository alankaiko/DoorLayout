<div class="geral">
  <div class="topoprocedimento">
    <form #f="ngForm" autocomplete="off" class="formu">
      <div class="linhas">
        <div class="blocodalinha" style="width: 40%;">
          <label>Atendimento </label>
          <p-dropdown [options]="atendimentos" [filter]="true" [(ngModel)]="atendimento.codigo"
            #atendimentocodigo="ngModel" name="atendimentocodigo" placeholder="Selecione..."
            (onChange)="CarregarProcedimentos()" [style]="{'line-height': '12px', 'width': '78%'}"></p-dropdown>
        </div>

        <div class="blocodalinha" style="width: 55%;">
          <label>Procedimento selecionado </label>
          <p-dropdown [options]="procedimentosAtd" [filter]="true" [(ngModel)]="procedimento.codigo"
            #procedimentoselecionado="ngModel" name="procedimentoselecionado" placeholder="Selecione..."
            (onChange)="ConfigurarVariavel()" [style]="{'line-height': '12px', 'width': '70%'}"></p-dropdown>
        </div>

        <div class="blocodalinha" style="width: 5%;" *ngIf="!abrirpaginaimg">
          <button class="botaosair" routerLink="/home">
            <img src="/assets/img/SAIR.png">
            <span>Sair</span>
          </button>
        </div>

        <div class="blocodalinha" style="width: 5%;" *ngIf="abrirpaginaimg">
          <button class="botaosair" (click)="EscolherLaudo()">
            <img src="/assets/img/VOLTAR.png">
            <span>Voltar</span>
          </button>
        </div>
      </div>
    </form>
  </div>

  <div class="painelgerallaudo" id="painelgerallaudo" *ngIf="conferindo">
    <div class="painelesquerda">
      <div class="menubotoes">
        <p-toolbar>
          <div class="ui-toolbar-group-left">
            <button pButton type="button" label="Salvar" icon="pi pi-plus" (click)="Salvar(f)"></button>
            <button style="background-color: #607D8B; border: 1px solid #607D8B;" pButton type="button" label="Imprimir" icon="pi pi-plus" (click)="GerarImpressao()"></button>
            <button style="background-color: #537f2d; border: 1px solid #537f2d;" pButton type="button" label="Gerar PDF" icon="pi pi-plus" (click)="Salvar(f)"></button>
            <button style="background-color: #aa2424; border: 1px solid #aa2424;" pButton type="button" label="Esc Img" icon="pi pi-plus" (click)="EscolherImagens()"></button>
            <button style="background-color: #E91E63; border: 1px solid #E91E63;" pButton type="button" label="Modelo" icon="pi pi-plus" (click)="AtivarExcluir()"></button>
            <button style="background-color: #8c239e; border: 1px solid #8c239e;" pButton type="button" label="Receita" icon="pi pi-plus"></button>
          </div>

          <div class="ui-toolbar-group-right">
            <button pButton type="button" label="Cancelar" icon="pi pi-times" class="ui-button-danger" (click)="Voltar()"></button>
          </div>
        </p-toolbar>
      </div>

      <div class="paineltexto" id="paineltexto">
        <app-textolivre [camposdolaudo]="procedimento.laudo.camposdolaudo"></app-textolivre>
      </div>
    </div>

    <div class="paineldireita">
      <div class="carrosselimg">
        <p-carousel [value]="procedimento?.listaimagem">
          <ng-template let-imagem pTemplate="item">
            <div class="thumbnail-wrapper">
              <img style="width: 100%; height: 165px;" [src]="imagem?.imagem"/>
            </div>
          </ng-template>
        </p-carousel>
      </div>

      <div class="painelcarrossel">

      </div>

      <div class="painelbotoesgrav">
        <button type="button" class="minibotao">
          <img src="/assets/img/RECORD_RED.png">
        </button>

        <button type="button" class="minibotao">
          <img src="/assets/img/PAUSE.png">
        </button>

        <button type="button" class="minibotao">
          <img src="/assets/img/SOUND_OFF.png">
        </button>

        <button type="button" class="minibotao">
          <img src="/assets/img/TV_CAPTURA.png">
        </button>

        <div class="quantidadevideo" style="margin-top: 4px;">
          <div id="quantidadevideo">
            <span>00:00:00</span>
          </div>
        </div>
      </div>

      <div style="border: 1px solid; width: 100%;">
        <p-toolbar>
          <button style="background-color: #607D8B; border: 1px solid #607D8B;"
            pButton type="button" label="Capturar Imagem" icon="fa fa-camera"
            (click)="AbrirTelaCaptura()"></button>

          <button style="background-color: #607D8B; border: 1px solid #607D8B;"
            pButton type="button" label="Mostrar Laudo" icon="fa fa-file"></button>
        </p-toolbar>
      </div>

      <div class="tabelavideo">
        <div style="width: 100%; height: 100%; border: 1px solid rgb(48, 46, 46);">
          <p-table [value]="videos" class="table table-striped table-bordered table-hover"
          [scrollable]="true" scrollHeight="154px">
            <ng-template pTemplate="header">
              <tr>
                <th style="width: 50%;">Vídeo</th>
                <th style="width: 25%;">Duração</th>
                <th style="width: 25%;">Tamanho</th>
              </tr>
            </ng-template>

            <ng-template pTemplate="body" let-video>
              <tr>
                <td style="width: 50%;">{{video?.codigo}}</td>
                <td style="width: 25%;">{{video?.nome}}</td>
                <td style="width: 25%;">{{video?.telefone}}</td>
              </tr>
            </ng-template>
            <ng-template pTemplate="emptymessage">
              <tr>
                <td colspan="5">
                  Nenhum Vídeo Encontrado
                </td>
              </tr>
            </ng-template>
          </p-table>
        </div>
      </div>
    </div>
  </div>

  <div class="painelgeralimagem">
    <app-paginaimagens *ngIf="abrirpaginaimg" [paginadeimagens]="procedimento.paginadeimagens"
    [listaimagem]="procedimento.listaimagem"></app-paginaimagens>
  </div>
</div>

<p-dialog header="Escolha o Modelo" [(visible)]="dropmodelo" [baseZIndex]="10001" [style]="{width: '20vw'}">
  <p-dropdown [style]="{'position': 'fixed', 'overflow': 'visible', 'z-index': '999', 'width': '16%'}"
    [options]="modelodelaudo" [(ngModel)]="prioridade" name="modelocodigo"
    #modelocodigo="ngModel" (onChange)="AbrirLaudo()"></p-dropdown>
</p-dialog>
